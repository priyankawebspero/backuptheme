<script type="text/javascript">{%raw%}(function(){if(typeof SECOMAPP==="undefined"){SECOMAPP={}};if(typeof Shopify==="undefined"){Shopify={}};SECOMAPP.fg_ver=1658213363;SECOMAPP.fg_scriptfile="freegifts_20220309.min.js";SECOMAPP.gifts_list_avai={"31577980698684":true,"31577980731452":true,"31577980764220":true,"31577980567612":true,"31578324238396":true,"31577980633148":true,"31577980665916":true,"32463087927356":true,"32521329377340":true,"39550042538044":true,"31841427882044":true,"39324682944572":true,"39423270649916":true,"32578679210044":true,"32624922361916":true,"39673702219836":true,"31672714428476":true,"32110039269436":true,"31855056945212":true,"31855057010748":true,"32110039105596":true,"32110039302204":true,"31578323943484":true,"31577980305468":true,"31577980469308":true,"31577980502076":true,"31577980534844":true,"39430440288316":true,"39439654551612":true,"39360602374204":true,"884541456403":true,"841961209875":true,"90565115923":true,"90565083155":true,"39379380928572":true,"31850999971900":true,"31851000070204":true,"31851000004668":true,"31850999939132":true,"39610102480956":true,"39416771182652":true,"39473566122044":true,"39461260722236":true,"21573682200636":true,"32463113322556":true,"31111455047740":true,"21653976186940":true,"40168958066748":true,"32608705445948":true,"32561733173308":true,"32561733140540":true,"32561733238844":true,"32561733075004":true,"32402119163964":true,"32402119360572":true,"32402119262268":true,"32402119426108":true,"28756069154876":true,"28756069089340":true,"22634177003580":true,"39257153601596":true,"32282265026620":true,"32705859387452":true,"32705857191996":true,"39337580953660":true,"31578324271164":true,"32389958697020":true,"39278154612796":true,"39542930341948":true,"39842458959932":true,"32353113997372":true,"32360207614012":true,"32353113964604":true,"40221736468540":true,"39562348625980":true,"22537768435772":true,"32494394212412":true,"21995888771132":true,"39255400448060":true,"32521239691324":true,"32521239724092":true,"32521239756860":true,"32521240051772":true,"32660434812988":true,"32539621097532":true,"30300718399548":true,"31577979256892":true,"32535399956540":true,"39531468095548":true,"955749433363":true,"501201928211":true,"90565050387":true,"90565148691":true,"90565181459":true,"501202059283":true,"32704482541628":true,"39494725435452":true,"39479024779324":true,"32531354255420":true,"39445451898940":true,"39416769347644":true,"32535366631484":true,"39809544552508":true,"31083033231420":true,"32282264731708":true,"39818778345532":true,"9015452237884":true,"31869329080380":true,"39280786505788":true,"31427517841468":true,"39632439181372":true,"32727378362428":true,"32475151237180":true,"39430439501884":true,"39715218751548":true,"31388105834556":true,"39475023118396":true,"32610626306108":true,"39384910889020":true,"32540490235964":true,"40225393311804":true,"40229540560956":true,"40229445435452":true,"40149475360828":true,"40149404450876":true,"40149474050108":true,"40149473722428":true,"40149404483644":true,"40149404713020":true,"39546112409660":true,"40230300549180":true,"32567364616252":true,"40225052459068":true,"40221419536444":true,"32662478585916":true,"39322661453884":true,"40224937672764":true,"29147391983676":true,"32494394507324":true,"39384438276156":true,"39991432609852":true,"39270960463932":true,"39849826910268":true,"32561748803644":true,"39344135929916":true,"39514805895228":true,"39514805862460":true,"39849826877500":true,"39778166308924":true,"39778960834620":true,"39591782121532":true,"32629178859580":true,"40222498652220":true,"32738495529020":true,"32660434944060":true,"32469737701436":true,"32386144993340":true,"39493790859324":true,"31873277755452":true,"32571956068412":true,"39569395646524":true,"32540723019836":true,"39475023413308":true,"32443737571388":true,"32557051904060":true,"32282265059388":true,"39813156634684":true,"32731825406012":true,"32551250034748":true,"32551250362428":true,"32551250395196":true,"32551250460732":true,"39975312228412":true,"39844025729084":true,"39696696836156":true,"39696764239932":true,"39471547514940":true,"32625924767804":true,"39329549385788":true,"32360207679548":true,"32360207810620":true,"39255409229884":true,"31796127236156":true,"31796127268924":true,"31796127301692":true,"30739255918652":true,"31577979977788":true,"31577980010556":true,"32481806975036":true,"39589184864316":true,"32589453819964":true,"32402120376380":true,"32402120671292":true,"32402120638524":true,"32402120769596":true,"32621194477628":true,"39548569813052":true,"32738493956156":true,"39972732928060":true,"32407114907708":true,"32536857870396":true,"32536857935932":true,"32536857968700":true,"32536858001468":true,"32332068913212":true,"32332068847676":true,"32332068814908":true,"32332068880444":true,"32697222627388":true,"31881766469692":true,"39302202196028":true,"39778166276156":true,"39526422872124":true,"31855056814140":true,"31855056715836":true,"31855056879676":true,"31886469431356":true,"32710620872764":true,"32625904091196":true,"32716286918716":true,"39554442002492":true,"32591486943292":true,"39766377627708":true,"39263713132604":true,"32571956035644":true,"32443736391740":true,"32381304930364":true,"32750948483132":true,"29147419476028":true,"32731821146172":true,"39632454811708":true,"32727009165372":true,"32674620145724":true,"32332069011516":true,"32332069044284":true,"32332069077052":true,"32332069109820":true,"39456927252540":true,"39366745391164":true,"39494725468220":true,"39482627326012":true,"32595642220604":true,"39259073740860":true,"32402119491644":true,"32402118934588":true,"39481574654012":true,"39833226149948":true,"39247268085820":true,"39329547845692":true,"39529724215356":true,"32726977839164":true,"39916060147772":true,"39316034191420":true,"40225118978108":true,"40224454967356":true,"40221520691260":true,"32469738291260":true,"32469738356796":true,"32469738324028":true,"32469738389564":true,"40230805405756":true,"32628776599612":true,"39972733059132":true,"40168960426044":true,"39406806564924":true,"39565216677948":true,"39439939174460":true,"40268538183740":true,"32669414981692":true,"31577979945020":true,"40230297174076":true,"40230296682556":true,"40230297206844":true,"32699158954044":true,"28537563349052":true,"28537563381820":true,"28537563480124":true,"31154087362620":true,"39975308132412":true,"32494393458748":true,"39513929547836":true,"39490818932796":true,"40226466725948":true,"40227158294588":true,"40230604472380":true,"40268474581052":true,"40105641902140":true,"39969411465276":true,"39975455719484":true,"40091938816060":true,"39961135022140":true,"40099009527868":true,"39998175641660":true,"40008925151292":true,"39912986345532":true,"39926574514236":true,"40135586152508":true,"39948684853308":true,"40040064516156":true,"40040083226684":true,"40040077688892":true,"40040083324988":true,"39939320873020":true,"39982578237500":true,"40123810152508":true,"39867168227388":true,"40021378760764":true,"40198216613948":true,"39945218850876":true,"39939321987132":true,"40110722940988":true,"39991464755260":true,"40051651739708":true,"39945219670076":true,"40028201943100":true,"40086568894524":true,"40008925085756":true,"40091898675260":true,"39998176624700":true,"39998172823612":true,"40198190170172":true,"39966614257724":true,"39975455653948":true,"40079789260860":true,"40079789326396":true,"40079788900412":true,"40094139973692":true,"40086571319356":true,"39945196863548":true,"40021379776572":true,"39876483383356":true,"39991432773692":true,"39372190351420":true,"39942361088060":true,"40244157972540":true,"40268538380348":true,"39975204028476":true,"39739629764668":true,"40066233270332":true,"40031426379836":true,"39945218785340":true,"40268462129212":true,"39998175313980":true,"39696764043324":true,"39813152964668":true,"39788345098300":true,"39803037351996":true,"39686217334844":true,"39818778279996":true,"39746799140924":true,"39803037483068":true,"39790568898620":true,"39818778378300":true,"39736621269052":true,"39736620449852":true,"39721632563260":true,"39739629797436":true};})();{%endraw%}</script>
{% assign sca_all_gift_products_ids =",9530612551,2364042313788,2364025798716,2472712699964,3674083207,2472807137340,9530056199,4626083708988,6765620551,4685448085564,552621932604,278984289,4731545419836,4681695952956,4451341926460,3781784141884,3745072283708,3745091125308,3745043054652,290339409,290357505,291296601,4666975223868,6564340629564,42474602515,120071290899,16301522963,16348938259,6586008830012,4669029351484,3874683486268,4610405007420,6626773762108,2394368344124,2411268440124,2411266146364,6691022372924,4633832652860,2388687749180,2388690206780,9627315143,2387986939964,3724079726652,3724078481468,2541092634684,4644976558140,4669032529980,4410908901436,4460869648444,4693650538556,6676988133436,4662126149692,3829612773436,4273507696700,3829306622012,6598724616252,291388705,760504614972,4584780890172,4721861754940,4139869569084,12311680019,6671085895740,139993415699,42483351571,16273014803,16272588819,16302440467,42463985683,4670281809980,6560178274364,4651057086524,552667316284,6783603966012,4324870389820,6767008711,6755481878588,6543359377468,4390141034556,4737443692604,4670274207804,4634578747452,6547802980412,4381101064252,4669032202300,4669036265532,4658102501436,4647839825980,4733766467644,4734647337020,4669029974076,6888201322556,4669032005692,4669032366140,6888325939260,6847735136316,6953726607420,6601957474364,6563570548796,6951598981180,3762208505916,4567595909180,4705323876412,4578507259964,4664163991612,4669029777468,4669036724284,6545189404732,6545188552764,4737458176060,6805776039996,4580344856636,4731589689404,4655808282684,4658247204924,6607190687804,2531114188860,290461061,6579651674172,4669032595516,4700108914748,6689045545020,4647873413180,6663979597884,4670709760060,4731535818812,6789150113852,3679991047,2531103703100,6759676411964,4723200098364,6677198078012,4674936340540,4737458405436,3784008368188,4669029449788,4726635954236,4584699527228,4734882185276,6545187110972,4674401009724,6604603424828,6735858040892,4733807067196,6663968260156,4724348387388,116506034195,4665343082556,6608073424956,6809914933308,6555376025660,6682336624700,4669033644092,6850402517052,6691061497916,1958158273,4606280728636,4647839629372,6590529929276,6893839351868,290407997,747898634300,6893750124604,6810007961660,6551438721084,6819850387516,6809852182588,6551437803580,4685487603772,6621063118908,6906286276668,6783978963004,4733808410684,6810104856636,6893748748348,6675707330620,6807190863932,6671131803708,6838372991036,6893745078332,4669032431676,4626472730684,6894564409404,6810091454524,4696378540092,6583139696700,6810129465404,6888290025532,290379917,4734901747772,6782880841788,4578409709628,6776485085244,6735858499644," %}
<script data-cfasync="false" type="text/javascript">
  /* Smart Ecommerce App (SEA Inc)
  * http://www.secomapp.com
  * Do not reuse those source codes if don't have permission of us.
  * */
  {%if template =='product' and product.vendor =='freegifts' and product.metafields.secomapp['freegifts.product_url'] %}
    window.location.replace("{{product.metafields.secomapp['freegifts.product_url']}}");
  {%endif%}
  {%raw%}
  !function(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t,o=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.push(t);return o}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){var o=this.toString();(void 0===t||t>o.length)&&(t=o.length),t-=e.length;var r=o.indexOf(e,t);return-1!==r&&r===t},writable:!0,enumerable:!0,configurable:!0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var o;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;var n=+t||0;if(Math.abs(n)===1/0&&(n=0),n>=i)return-1;for(o=Math.max(n>=0?n:i-Math.abs(n),0);o<i;){if(o in r&&r[o]===e)return o;o++}return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var o,r;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),n=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(o=t),r=0;r<n;){var a;r in i&&(a=i[r],e.call(o,a,r,i)),r++}}),console=console||{},console.log=console.log||function(){},"undefined"==typeof Shopify&&(Shopify={}),"function"!=typeof Shopify.onError&&(Shopify.onError=function(){}),"undefined"==typeof SECOMAPP&&(SECOMAPP={}),SECOMAPP.removeGiftsVariant=function(e){setTimeout(function(){try{e("select option").not(".sca-fg-cart-item select option").filter(function(){var t=e(this).val(),o=e(this).text();-1!==o.indexOf(" - ")&&(o=o.slice(0,o.indexOf(" - ")));var r=[];return-1!==o.indexOf(" / ")&&(r=o.split(" / "),o=r[r.length-1]),!!(void 0!==SECOMAPP.gifts_list_avai&&void 0!==SECOMAPP.gifts_list_avai[t]||o.endsWith("% off)"))&&(e(this).parent("select").find("option").not(".sca-fg-cart-item select option").filter(function(){var r=e(this).val();return e(this).text().endsWith(o)||r==t}).remove(),e(".dropdown *,ul li,label,div").filter(function(){var r=e(this).html(),i=e(this).data("value");return r&&r.endsWith(o)||i==t}).remove(),!0)})}catch(e){console.log(e)}},500)},SECOMAPP.formatMoney=function(e,t){"string"==typeof e&&(e=e.replace(".",""));var o="",r="undefined"!=typeof Shopify&&void 0!==Shopify.money_format?Shopify.money_format:"{{amount}}",i=/\{\{\s*(\w+)\s*\}\}/,n=t||(void 0!==this.fgsettings&&"string"==typeof this.fgsettings.sca_currency_format&&this.fgsettings.sca_currency_format.indexOf("amount")>-1?this.fgsettings.sca_currency_format:null)||r;if(n.indexOf("amount_no_decimals_no_comma_separator")<0&&n.indexOf("amount_no_comma_separator_up_cents")<0&&n.indexOf("amount_up_cents")<0&&"function"==typeof Shopify.formatMoney)return Shopify.formatMoney(e,n);function a(e,t){return void 0===e?t:e}function s(e,t,o,r,i,n){if(t=a(t,2),o=a(o,","),r=a(r,"."),isNaN(e)||null==e)return 0;var s=(e=(e/100).toFixed(t)).split(".");return s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+o)+(s[1]?i&&n?i+s[1]+n:r+s[1]:"")}switch(n.match(i)[1]){case"amount":o=s(e,2);break;case"amount_no_decimals":o=s(e,0);break;case"amount_with_comma_separator":o=s(e,2,",",".");break;case"amount_no_decimals_with_comma_separator":o=s(e,0,",",".");break;case"amount_no_decimals_no_comma_separator":o=s(e,0,"","");break;case"amount_up_cents":o=s(e,2,",","","<sup>","</sup>");break;case"amount_no_comma_separator_up_cents":o=s(e,2,"","","<sup>","</sup>")}return n.replace(i,o)},SECOMAPP.setCookie=function(e,t,o,r,i){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3+60*r*1e3);var a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+(i?";path="+i:";path=/")},SECOMAPP.deleteCookie=function(e,t){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; "+(t?";path="+t:";path=/")},SECOMAPP.getCookie=function(e){for(var t=e+"=",o=document.cookie.split(";"),r=0;r<o.length;r++){for(var i=o[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},SECOMAPP.getQueryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var r=t[o].split("=");if(void 0===e[r[0]])e[r[0]]=decodeURIComponent(r[1]);else if("string"==typeof e[r[0]]){var i=[e[r[0]],decodeURIComponent(r[1])];e[r[0]]=i}else e[r[0]].push(decodeURIComponent(r[1]))}return e},SECOMAPP.freegifts_product_json=function(e){if(Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){var o=this.toString();(void 0===t||t>o.length)&&(t=o.length),t-=e.length;var r=o.indexOf(e,t);return-1!==r&&r===t}}),e){if(e.options&&Array.isArray(e.options))for(var t=0;t<e.options.length;t++){if(void 0!==e.options[t]&&void 0!==e.options[t].values)if((r=e.options[t]).values&&Array.isArray(r.values))for(var o=0;o<r.values.length;o++)(r.values[o].endsWith("(Freegifts)")||r.values[o].endsWith("% off)"))&&(r.values.splice(o,1),o--)}if(e.options_with_values&&Array.isArray(e.options_with_values))for(t=0;t<e.options_with_values.length;t++){var r;if(void 0!==e.options_with_values[t]&&void 0!==e.options_with_values[t].values)if((r=e.options_with_values[t]).values&&Array.isArray(r.values))for(o=0;o<r.values.length;o++)(r.values[o].title.endsWith("(Freegifts)")||r.values[o].title.endsWith("% off)"))&&(r.values.splice(o,1),o--)}var i=e.price,n=e.price_max,a=e.price_min,s=e.compare_at_price,c=e.compare_at_price_max,f=e.compare_at_price_min;if(e.variants&&Array.isArray(e.variants))for(var p=0;e.variants.length,void 0!==e.variants[p];p++){var l=e.variants[p],u=l.option3?l.option3:l.option2?l.option2:l.option1?l.option1:l.title?l.title:"";"undefined"!=typeof SECOMAPP&&void 0!==SECOMAPP.gifts_list_avai&&void 0!==SECOMAPP.gifts_list_avai[l.id]||u.endsWith("(Freegifts)")||u.endsWith("% off)")?(e.variants.splice(p,1),p-=1):((!n||n>=l.price)&&(n=l.price,i=l.price),(!a||a<=l.price)&&(a=l.price),l.compare_at_price&&((!c||c>=l.compare_at_price)&&(c=l.compare_at_price,s=l.compare_at_price),(!f||f<=l.compare_at_price)&&(f=l.compare_at_price)),void 0!==l.available&&1==l.available&&(e.available=!0))}e.price=i,e.price_max=a==n?null:a,e.price_min=n==a?null:n,e.compare_at_price=s,e.compare_at_price_max=f,e.compare_at_price_min=c,e.price_varies=n<a,e.compare_at_price_varies=c<f}return e},SECOMAPP.fg_codes=[],""!==SECOMAPP.getCookie("sca_fg_codes")&&(SECOMAPP.fg_codes=JSON.parse(SECOMAPP.getCookie("sca_fg_codes")));var e=SECOMAPP.getQueryString();e.freegifts_code&&-1===SECOMAPP.fg_codes.indexOf(e.freegifts_code)&&(void 0!==SECOMAPP.activateOnlyOnePromoCode&&!0===SECOMAPP.activateOnlyOnePromoCode&&(SECOMAPP.fg_codes=[]),SECOMAPP.fg_codes.push(e.freegifts_code),SECOMAPP.setCookie("sca_fg_codes",JSON.stringify(SECOMAPP.fg_codes)))}();
  {%endraw%}
  ;SECOMAPP.customer={};SECOMAPP.customer.orders=[];SECOMAPP.customer.freegifts=[];{% for order in customer.orders %}SECOMAPP.customer.orders.push({"financial_status": {{order.financial_status|json}},"total_price": {{order.total_price|json}},"created_at": "{{order.created_at | date:'%s'}}" });{% for line_item in order.line_items %}{%if line_item.variant.metafields.secomapp.freegifts or line_item.variant.title contains '(Freegifts)' or line_item.vendor == 'freegifts'%}SECOMAPP.customer.freegifts.push({{line_item.variant.id}});{%endif%}{%if line_item.discount_allocations[0].discount_application.title == 'FreeGift'%}SECOMAPP.customer.freegifts.push('{{line_item.variant.id}}_{{line_item.discount_allocations[0].amount}}');{%endif%}{% endfor %}{% endfor %};SECOMAPP.customer.email={{customer.email | json}};SECOMAPP.customer.first_name={{customer.first_name | json}};SECOMAPP.customer.last_name={{customer.last_name | json}};SECOMAPP.customer.tags={{customer.tags | json}};SECOMAPP.customer.orders_count={{customer.orders_count | json}};SECOMAPP.customer.total_spent={{customer.total_spent | json}};{%if customer.last_order.financial_status =='paid' %}SECOMAPP.customer.last_order='{{customer.last_order.created_at}}';SECOMAPP.customer.last_total={{customer.last_order.total_price | json}};{% endif %}{% assign foundFreeGift=false %}{% if template contains 'cart' %}SECOMAPP.shopcart={{ cart | json }};var cic=[];{% for item in cart.items %}{%if item.product.collections%}{% capture results %}[{% for collection in item.product.collections %}{{ collection.id | json }}{% unless forloop.last %},{% endunless %}{% endfor %}]{% endcapture %}cic[{{item.id}}]={{results}};{%endif%}{% endfor %}SECOMAPP.cart_item_collection = cic;{% endif %}
</script>